# Stellar Scrypt

Этот репозиторий содержит Google Apps Script для синхронизации данных Stellar blockchain с Google Sheets. Скрипт получает транзакции, активы и историю операций через Horizon API и записывает результаты в листы Google Sheets.

## Назначение

* Автоматизация аудита и мониторинга активов и транзакций фондов.
* Синхронизация переводов между аккаунтами с фильтрацией по активам и датам.
* Формирование отчетов в Google Sheets.

## Быстрый обзор структуры

* Основной скрипт для Apps Script: [`clasp/Код.js`](clasp/Код.js)
* Локальные версии/черновики: [`v3.js`](v3.js), [`v2_improved.js`](v2_improved.js), [`v2.js`](v2.js)
* Документация Memory Bank: [`memory-bank/`](memory-bank/)

## Memory Bank (обязательно к соблюдению)

Документация в каталоге [`memory-bank/`](memory-bank/) ведётся строго по инструкции из [`memory-bank/memory_bank_management_instructions.md`](memory-bank/memory_bank_management_instructions.md). Ключевые правила:

* Язык всех файлов — русский.
* Формат временных меток — `ГГГГ-ММ-ДД ЧЧ:ММ:СС` (UTC).
* Каждая запись начинается с `[временная метка] - [описание]`.
* Записи сортируются в обратном хронологическом порядке.
* При правках обновляется метка «Последняя редакция».
* Сохраняется структура разделов и их порядок.

## Основные листы Google Sheets

* `CONST` — конфигурация (HORIZON_URL, даты, фондовые аккаунты).
* `RESIDENTS` — список резидентов, их аккаунты и эмитенты активов.
* `ACCOUNTS` — метки аккаунтов.
* `TRANSFERS` — синхронизированные переводы.
* `TRANSFERS_MEMO_QUEUE` — очередь для догрузки memo.
* `ADDRESS_TRANSACTIONS` — выборка транзакций между двумя адресами.

## Запуск

Скрипт разворачивается и выполняется в среде Google Apps Script. Управляющее меню создаётся в таблице Google Sheets пунктом «Stellar».
